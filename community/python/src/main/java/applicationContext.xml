<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

   <bean id="pythonDispatcherMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
        <props>
            <prop key="/python">restWrapper</prop>
            <prop key="/python/**">restWrapper</prop>
        </props>
    </property>
  </bean>
    
  <bean id="python" class="org.geoserver.python.Python">
    <constructor-arg ref="resourceLoader"/>
  </bean>

  <bean id="restConfigMapping" class="org.geoserver.rest.RESTMapping">
    <property name="routes">
      <map>
        <entry>
          <key><value>/scripts/{script}.py</value></key>
          <value>pythonFinder</value>
        </entry>
      </map>
    </property>
  </bean>

  <bean id="pythonFinder" class="org.geoserver.python.PythonFinder">
    <constructor-arg ref="python"/>
    <constructor-arg ref="resourceLoader"/>
  </bean>
  
   <bean id="pythonConsole" class="org.geoserver.web.DemoLinkInfo">
        <property name="id" value="pythonConsole"/>
        <property name="titleKey" value="PythonConsolePage.title"/>
        <property name="descriptionKey" value="PythonConsolePage.description"/>
        <property name="componentClass" value="org.geoserver.python.web.PythonConsolePage"/>
    </bean>
    
</beans>